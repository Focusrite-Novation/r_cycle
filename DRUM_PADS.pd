#N canvas 0 30 1280 720 10;
#X obj 69 28 inlet;
#X obj 504 7 loadbang;
#N canvas 0 23 726 713 CREATE_SQUARE 0;
#X floatatom 138 131 5 0 0 0 start - -;
#X floatatom 248 131 5 0 0 1 size - -;
#X obj 138 96 unpack;
#X msg 248 260 set \$1;
#X obj 142 429 +;
#X obj 138 191 t b f f;
#X msg 201 230 1;
#X obj 248 325 until;
#X obj 248 346 f;
#X obj 248 367 t f f;
#X obj 288 367 + 1;
#X obj 248 305 t f b;
#X msg 297 326 0;
#X msg 248 284 9;
#X obj 337 489 % 2;
#X obj 367 489 div 2;
#X obj 367 510 * 10;
#X obj 337 510 +;
#X obj 248 211 pow 2;
#X obj 248 191 t f f;
#X obj 367 452 t f f;
#X obj 138 16 inlet;
#X obj 248 388 t f f f;
#X obj 248 436 sel -1;
#X obj 248 232 t f f;
#X obj 331 411 - 1;
#X obj 142 521 list prepend;
#X obj 142 542 t l l;
#X obj 85 629 list store;
#X obj 85 660 outlet;
#X text 80 684 list of pads+colors \;;
#X obj 138 66 t l b b;
#X obj 248 151 min 8;
#X obj 138 151 max 0;
#X obj 138 172 min 98;
#X text 319 5 INLETS (left-to-right) \; \; 1 list: starting point (bottom
left corner) + square size (nr of pads) \; 2 color (0-127) \;;
#X text 372 301 generate a list of pads to light up \;;
#X obj 193 72 s \$0_sq_reset;
#X obj 211 499 r \$0_sq_reset;
#X obj 156 605 r \$0_sq_reset;
#X obj 142 450 pack;
#X obj 175 392 r \$0_color;
#X obj 248 172 max 1;
#X connect 0 0 33 0;
#X connect 1 0 32 0;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 0 13 0;
#X connect 4 0 40 0;
#X connect 5 0 13 0;
#X connect 5 1 4 1;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 22 0;
#X connect 9 1 10 0;
#X connect 10 0 8 1;
#X connect 11 0 7 0;
#X connect 11 1 12 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 4 0;
#X connect 18 0 24 0;
#X connect 19 0 18 0;
#X connect 19 1 20 0;
#X connect 20 0 14 1;
#X connect 20 1 15 1;
#X connect 21 0 31 0;
#X connect 22 0 23 0;
#X connect 22 1 14 0;
#X connect 22 2 15 0;
#X connect 23 0 28 0;
#X connect 24 0 3 0;
#X connect 24 1 25 0;
#X connect 25 0 23 1;
#X connect 26 0 27 0;
#X connect 27 0 28 1;
#X connect 27 1 26 1;
#X connect 28 0 29 0;
#X connect 31 0 2 0;
#X connect 31 1 6 0;
#X connect 31 2 37 0;
#X connect 32 0 42 0;
#X connect 33 0 34 0;
#X connect 34 0 5 0;
#X connect 38 0 26 1;
#X connect 39 0 28 1;
#X connect 40 0 26 0;
#X connect 41 0 40 1;
#X connect 42 0 19 0;
#X restore 69 381 pd CREATE_SQUARE;
#X floatatom 114 241 5 0 0 0 - - -;
#X obj 69 292 pack 0 3;
#X obj 69 270 + 11;
#X floatatom 69 241 5 0 0 0 x-offset - -;
#X obj 535 90 \$1;
#X obj 615 90 \$3;
#X obj 615 111 moses 1;
#X obj 575 90 \$2;
#X obj 114 212 r \$0_size;
#X obj 140 288 + 11;
#X floatatom 154 241 5 0 0 1 y-offset - -;
#X obj 140 267 * 10;
#X obj 698 111 moses 1;
#X obj 698 162 s \$0_color;
#X msg 698 132 13;
#X obj 654 203 s \$0_size;
#X obj 654 158 max 1;
#X obj 535 152 max 0;
#X obj 535 131 min 7;
#X obj 575 131 min 7;
#X obj 575 152 max 0;
#X obj 698 90 \$4;
#X obj 877 393 list store obj_\$0;
#X floatatom 774 141 5 0 0 0 - - -;
#X obj 69 422 list store;
#X text 546 387 send msg to LP_GUI only once \; when LP_GUI asks for
\;;
#X obj 504 33 t b b;
#X msg 504 56 1;
#X obj 69 588 list prepend obj_\$0;
#X obj 694 560 r \$0_id;
#X obj 694 581 outlet;
#X obj 744 581 outlet;
#X text 178 432 map 'elem_id' from LP_GUI \; to chromatic keyboard
\;;
#N canvas 0 23 450 342 ORDERED_LIST 0;
#X obj 92 30 inlet;
#X obj 92 60 list length;
#X obj 92 81 route bang;
#X obj 149 130 until;
#X obj 149 151 f 0;
#X obj 149 172 t f f;
#X obj 219 172 + 1;
#X obj 206 243 list prepend;
#X obj 206 264 t l l;
#X obj 149 193 t f f;
#X obj 149 292 list store;
#X obj 149 214 sel -1;
#X obj 149 313 outlet;
#X obj 149 108 t f b f;
#X msg 189 130 0;
#X obj 229 130 - 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 1 13 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 10 1;
#X connect 8 1 7 1;
#X connect 9 0 11 0;
#X connect 9 1 7 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 13 0 3 0;
#X connect 13 1 14 0;
#X connect 13 2 15 0;
#X connect 14 0 4 1;
#X connect 15 0 11 1;
#X restore 163 493 pd ORDERED_LIST;
#X obj 69 460 t l l l;
#N canvas 388 258 612 324 RE_MAP 0;
#X obj 37 37 inlet;
#X obj 37 58 t l l;
#X obj 129 81 list length;
#X obj 129 102 ==;
#X obj 240 32 r \$0_size;
#X floatatom 240 74 5 0 0 0 - - -;
#X obj 37 239 spigot;
#X obj 129 123 t f f;
#X obj 129 144 sel 0;
#X obj 129 205 print DRUM_PADS_\$0;
#X msg 129 175 impossible to remap object - list size issue!;
#X obj 37 260 s \$0_remap_list;
#X obj 240 53 pow 2;
#X text 337 28 accept a list == to nr of pads declared \; the elements
of this list would be the \; new pad ids \;;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 12 0;
#X connect 5 0 3 1;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 7 1 6 1;
#X connect 8 0 10 0;
#X connect 10 0 9 0;
#X connect 12 0 5 0;
#X restore 112 122 pd RE_MAP;
#X obj 180 513 r \$0_remap_list;
#X text 872 441 send 'obj_unique_id' to LP_GUI \;;
#X obj 907 206 print -n;
#N canvas 268 186 932 434 PROCESSING 0;
#X obj 53 93 r to_obj_\$0;
#X obj 53 164 unpack 0 0 0;
#X text 104 145 elem_id \, color \, status \;;
#X obj 122 213 sel 0;
#X obj 53 296 pack;
#X text 93 295 elem_id \, color \;;
#X obj 93 213 f;
#X obj 87 187 swap;
#X text 180 247 on_color \;;
#X msg 149 248 120;
#X obj 53 144 t l l;
#X obj 303 164 unpack 0 0 0;
#X obj 303 246 moses;
#X obj 330 267 tabread \$0_OUTPUT;
#X obj 303 225 text search \$0_BUFFER;
#X obj 330 338 s \$0_id;
#N canvas 217 218 903 426 INTERNAL_BUFFER 0;
#X obj 116 49 inlet;
#X obj 116 200 list split 2;
#X obj 180 239 list;
#X obj 116 240 t b l b;
#X obj 135 290 unpack;
#X text 49 286 only elem_id \; skip color \;;
#X text 42 198 keep list \; order \;;
#X obj 203 113 text define \$0_BUFFER;
#X msg 203 89 clear;
#X msg 196 352 1e+09;
#X obj 135 381 text insert \$0_BUFFER;
#X obj 168 315 b;
#X msg 249 89 click;
#X obj 202 141 array define \$0_OUTPUT;
#X obj 427 169 list length;
#X msg 454 259 const 0;
#X obj 454 284 s \$0_OUTPUT;
#X msg 427 235 resize \$1;
#X msg 549 216 arrayviewlistnew;
#X msg 549 239 arrayviewclose;
#X obj 400 364 array set \$0_OUTPUT;
#X text 544 194 check array content \;;
#X obj 400 49 inlet;
#X obj 116 79 t l b;
#X obj 400 70 t l l;
#X obj 427 191 t f b;
#X text 606 54 \$0_BUFFER contains the elem_ids \; while \$0_OUTPUT
the mappings \; the values to which the elem_ids \; are mapped to \;
;
#X connect 0 0 23 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 4 0 10 0;
#X connect 4 1 11 0;
#X connect 8 0 7 0;
#X connect 9 0 10 1;
#X connect 11 0 9 0;
#X connect 12 0 7 0;
#X connect 14 0 25 0;
#X connect 15 0 16 0;
#X connect 17 0 16 0;
#X connect 18 0 16 0;
#X connect 19 0 16 0;
#X connect 22 0 24 0;
#X connect 23 0 1 0;
#X connect 23 1 8 0;
#X connect 24 0 20 0;
#X connect 24 1 14 0;
#X connect 25 0 17 0;
#X connect 25 1 15 0;
#X restore 474 158 pd INTERNAL_BUFFER;
#X obj 474 114 inlet;
#X obj 330 298 +;
#X text 470 232 keyboard transpose \;;
#X obj 470 249 r \$0_transpose;
#X floatatom 470 270 5 0 0 0 - - -;
#X text 38 12 when live interaction happens (press pad/button on actual
HW) \, LP_GUI send 'elem_id' \, 'color' and 'status' to the right object
\, that then can reply ('elem_id' and 'color') to trigger visual feedback
on the device (ie light up a pad) \;;
#X obj 579 114 inlet;
#X text 437 89 list of elem_ids;
#X text 567 89 list of values to map to elem_ids;
#X text 52 362 to LP hardware \;;
#X text 339 362 object outlets \;;
#X obj 380 338 s \$0_velocity;
#X obj 53 118 route list velocity polytouch;
#X obj 470 338 s \$0_p_touch;
#X obj 278 67 r \$0_color_fg;
#X msg 278 138 set \$1;
#X obj 278 92 min 127;
#X obj 278 115 max 0;
#X obj 464 39 loadbang;
#X msg 464 60 120;
#X obj 53 335 s \$6_MIDI_to_LP_GUI;
#X connect 0 0 29 0;
#X connect 1 0 4 0;
#X connect 1 1 7 0;
#X connect 1 2 7 1;
#X connect 3 0 6 0;
#X connect 3 1 9 0;
#X connect 4 0 37 0;
#X connect 6 0 4 1;
#X connect 7 0 3 0;
#X connect 7 1 6 1;
#X connect 9 0 4 1;
#X connect 10 0 1 0;
#X connect 10 1 11 0;
#X connect 11 0 14 0;
#X connect 12 1 13 0;
#X connect 13 0 18 0;
#X connect 14 0 12 0;
#X connect 17 0 16 0;
#X connect 18 0 15 0;
#X connect 20 0 21 0;
#X connect 21 0 18 1;
#X connect 23 0 16 1;
#X connect 29 0 10 0;
#X connect 29 1 28 0;
#X connect 29 2 30 0;
#X connect 31 0 33 0;
#X connect 32 0 9 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 35 0 36 0;
#X connect 36 0 33 0;
#X restore 88 539 pd PROCESSING;
#X obj 744 560 r \$0_velocity;
#X obj 834 581 outlet;
#X obj 834 90 \$0;
#X floatatom 834 111 5 0 0 0 - - -;
#X obj 754 90 \$5;
#X obj 926 581 outlet;
#X obj 926 560 r \$0_p_touch;
#X text 689 601 pad id;
#X text 745 601 velocity;
#X text 828 601 aftertouch;
#X text 920 601 polytouch;
#X obj 200 122 s \$0_print_args;
#X obj 907 17 r \$0_print_args;
#X msg 481 445 0;
#X obj 481 420 t b b;
#X obj 481 355 f 0;
#X obj 481 376 t f f;
#X obj 481 397 sel 1;
#X obj 521 376 + 1;
#X obj 249 147 s \$0_print_outlets;
#X obj 922 80 r \$0_print_outlets;
#X msg 922 101 DRUM_PADS OUTLETS \, 1: pad id \, 2: velocity \, 3:
aftertouch \, 4: polytouch \;;
#X obj 834 560 r _aftertouch;
#X obj 298 123 s \$0_print_methods;
#X obj 929 141 r \$0_print_methods;
#X obj 573 553 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 612 662 s \$0_print_args;
#X obj 573 613 s \$0_print_outlets;
#X obj 592 636 s \$0_print_methods;
#X obj 573 578 t b b b;
#X obj 368 153 s \$0_color_fg;
#X obj 877 319 t b b;
#X msg 877 340 1;
#X obj 877 371 spigot 1;
#X obj 481 466 t f f;
#X obj 619 294 r \$0_change_color_bg;
#X obj 619 315 t b b;
#X msg 646 336 0;
#X obj 481 329 spigot 1;
#X msg 619 336 1;
#X obj 335 177 t b f b;
#X obj 354 218 s \$0_color;
#X obj 364 238 s \$0_change_color_bg;
#X msg 929 162 DRUM_PADS METHODS \, map \, reset_map \, color_bg \,
color_fg \;;
#N canvas 314 44 726 713 CREATE_ARRAY 0;
#X floatatom 138 131 5 0 0 0 start - -;
#X floatatom 248 131 5 0 0 1 size - -;
#X obj 138 96 unpack;
#X msg 248 260 set \$1;
#X obj 142 429 +;
#X obj 138 191 t b f f;
#X msg 201 230 1;
#X obj 248 325 until;
#X obj 248 346 f;
#X obj 248 367 t f f;
#X obj 288 367 + 1;
#X obj 248 305 t f b;
#X msg 297 326 0;
#X msg 248 284 8;
#X obj 138 16 inlet;
#X obj 248 436 sel -1;
#X obj 331 411 - 1;
#X obj 142 521 list prepend;
#X obj 142 542 t l l;
#X obj 85 629 list store;
#X obj 85 660 outlet;
#X text 80 684 list of pads+colors \;;
#X obj 138 66 t l b b;
#X obj 138 151 max 0;
#X obj 138 172 min 98;
#X text 319 5 INLETS (left-to-right) \; \; 1 list: starting point (bottom
left corner) + square size (nr of pads) \; 2 color (0-127) \;;
#X text 372 301 generate a list of pads to light up \;;
#X obj 193 72 s \$0_sq_reset;
#X obj 211 499 r \$0_sq_reset;
#X obj 156 605 r \$0_sq_reset;
#X obj 142 480 pack;
#X obj 175 392 r \$0_color;
#X obj 248 151 min 64;
#X obj 248 171 max 1;
#X obj 248 191 t f f;
#X obj 248 388 t f f;
#X obj 327 446 t f f;
#X obj 327 472 % 8;
#X obj 367 472 div 8;
#X obj 367 495 * 10;
#X text 416 481 from 0 \, 1 \, 2 \, 3 \, 4... \, n \; to 11 \, 12 \,
13 \, ...21 \, 22 \, 23... \, n \;;
#X obj 327 495 +;
#X connect 0 0 23 0;
#X connect 1 0 32 0;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 0 13 0;
#X connect 4 0 30 0;
#X connect 5 0 13 0;
#X connect 5 1 4 1;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 35 0;
#X connect 9 1 10 0;
#X connect 10 0 8 1;
#X connect 11 0 7 0;
#X connect 11 1 12 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 22 0;
#X connect 15 0 19 0;
#X connect 16 0 15 1;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 18 1 17 1;
#X connect 19 0 20 0;
#X connect 22 0 2 0;
#X connect 22 1 6 0;
#X connect 22 2 27 0;
#X connect 23 0 24 0;
#X connect 24 0 5 0;
#X connect 28 0 17 1;
#X connect 29 0 19 1;
#X connect 30 0 17 0;
#X connect 31 0 30 1;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 3 0;
#X connect 34 1 16 0;
#X connect 35 0 15 0;
#X connect 35 1 36 0;
#X connect 36 0 37 0;
#X connect 36 1 38 0;
#X connect 37 0 41 0;
#X connect 38 0 39 0;
#X connect 39 0 41 1;
#X connect 41 0 4 0;
#X restore 179 381 pd CREATE_ARRAY;
#X obj 69 321 t l l;
#X obj 69 356 spigot 1;
#X obj 179 356 spigot;
#X floatatom 794 111 5 0 0 0 - - -;
#X obj 794 90 \$6;
#X obj 535 57 t b b b b b b b, f 34;
#X obj 877 295 r \$6_heartbeat;
#X obj 481 308 r \$6_from_LP_GUI;
#X obj 774 161 s \$0_array_mode;
#X obj 754 111 != 0;
#X obj 236 264 r \$0_array_mode;
#X obj 236 285 t f f;
#X msg 236 306 1 \$1;
#X obj 236 327 -;
#X obj 69 629 s \$6_to_LP_GUI;
#X obj 877 414 s \$6_heartbeat_reply;
#X obj 654 137 min 64;
#X msg 907 40 DRUM_PADS ARGS \, 1: x offset \, 2: y offset \, 3: size
\, 4: color \, 5: array mode \, 6: LP_GUI_id \;;
#X obj 69 80 route bang map reset_map print_args print_outlets print_methods
color_bg color_fg, f 66;
#X text 1056 554 Copyright 2019-2020 Focusrite Audio Engineering Limited.
;
#X text 1087 676 http://www.apache.org/licenses/LICENSE-2.0;
#X text 1057 584 Licensed under the Apache License \, Version 2 (the
"License") \; you may not use this file except in compliance with the
License.;
#X text 1057 641 You may obtain a copy of the License at;
#X text 1057 706 Unless required by applicable law or agreed to in
writing \, software distributed under the License is distributed on
an "AS IS" BASIS \, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND \,
either express or implied.;
#X text 1057 762 See the License for the specific language governing
permissions and limitations under the License.;
#X connect 0 0 106 0;
#X connect 1 0 29 0;
#X connect 2 0 27 1;
#X connect 3 0 4 1;
#X connect 4 0 88 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 21 0;
#X connect 8 0 9 0;
#X connect 9 1 104 0;
#X connect 10 0 22 0;
#X connect 11 0 3 0;
#X connect 12 0 5 1;
#X connect 13 0 14 0;
#X connect 14 0 12 0;
#X connect 15 0 17 0;
#X connect 15 1 16 0;
#X connect 17 0 16 0;
#X connect 19 0 18 0;
#X connect 20 0 6 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 13 0;
#X connect 24 0 15 0;
#X connect 25 0 103 0;
#X connect 26 0 96 0;
#X connect 27 0 37 0;
#X connect 29 0 30 0;
#X connect 29 1 93 0;
#X connect 30 0 81 1;
#X connect 31 0 102 0;
#X connect 32 0 33 0;
#X connect 36 0 42 1;
#X connect 37 0 31 0;
#X connect 37 1 42 0;
#X connect 37 2 36 0;
#X connect 39 0 42 1;
#X connect 43 0 34 0;
#X connect 45 0 46 0;
#X connect 47 0 97 0;
#X connect 49 0 48 0;
#X connect 55 0 105 0;
#X connect 56 0 77 0;
#X connect 57 0 56 0;
#X connect 57 1 27 0;
#X connect 58 0 59 0;
#X connect 59 0 60 0;
#X connect 59 1 61 0;
#X connect 60 0 57 0;
#X connect 61 0 58 1;
#X connect 63 0 64 0;
#X connect 64 0 41 0;
#X connect 65 0 44 0;
#X connect 67 0 86 0;
#X connect 68 0 72 0;
#X connect 72 0 70 0;
#X connect 72 1 71 0;
#X connect 72 2 69 0;
#X connect 74 0 75 0;
#X connect 74 1 76 0;
#X connect 75 0 76 1;
#X connect 76 0 25 0;
#X connect 77 0 58 1;
#X connect 77 1 81 1;
#X connect 78 0 79 0;
#X connect 79 0 82 0;
#X connect 79 1 80 0;
#X connect 80 0 76 1;
#X connect 81 0 58 0;
#X connect 82 0 81 1;
#X connect 83 0 5 0;
#X connect 83 1 84 0;
#X connect 83 2 85 0;
#X connect 86 0 41 0;
#X connect 87 0 27 1;
#X connect 88 0 89 0;
#X connect 88 1 90 0;
#X connect 89 0 2 0;
#X connect 90 0 87 0;
#X connect 92 0 91 0;
#X connect 93 0 7 0;
#X connect 93 1 10 0;
#X connect 93 2 8 0;
#X connect 93 3 24 0;
#X connect 93 4 47 0;
#X connect 93 5 92 0;
#X connect 93 6 45 0;
#X connect 94 0 74 0;
#X connect 95 0 81 0;
#X connect 97 0 26 0;
#X connect 98 0 99 0;
#X connect 99 0 100 0;
#X connect 99 1 90 1;
#X connect 100 0 101 0;
#X connect 101 0 89 1;
#X connect 104 0 19 0;
#X connect 105 0 41 0;
#X connect 106 0 6 0;
#X connect 106 1 38 0;
#X connect 106 2 27 0;
#X connect 106 3 54 0;
#X connect 106 4 62 0;
#X connect 106 5 66 0;
#X connect 106 6 83 0;
#X connect 106 7 73 0;
#X coords 0 -1 1 1 170 20 1 420 550;
